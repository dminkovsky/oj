<!DOCTYPE html>

<html>
<head>
  <title>command.litcoffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>command.litcoffee</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap for-h1">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h1>command.coffee</h1>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>  Dependencies</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>_ = require <span class="string">'underscore'</span>
commander = require <span class="string">'commander'</span>
oj = require <span class="string">'./server'</span>

module.<span class="function"><span class="title">exports</span></span> = -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>  Usage</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  commander.version(oj.version)
    .usage(<span class="string">'[options] &lt;file&gt; &lt;dir&gt; ...'</span>)
    .option(<span class="string">'-m, --minify'</span>, <span class="string">'Turn on minification (default: false)'</span>, <span class="literal">false</span>)
    .option(<span class="string">'-w, --watch'</span>, <span class="string">'Turn on watch mode (default: off)'</span>, <span class="literal">false</span>)
    .option(<span class="string">'-r, --recurse'</span>, <span class="string">'Recurse into directories (default: off)'</span>, <span class="literal">false</span>)
    .option(<span class="string">'-o, --output &lt;dir&gt;'</span>, <span class="string">'Directory to output all files to (default: .)'</span>, process.cwd())
    .option(<span class="string">'-v, --verbose &lt;level&gt;'</span>, <span class="string">'Turn on verbose level 0-3 (default: 1)'</span>, <span class="number">1</span>)
    .option(<span class="string">'-e, --exclude &lt;modules&gt;'</span>, <span class="string">'List of modules to exclude (jquery,oj,...)'</span>, splitAndTrim, [])</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>.option(&#39;--include [modules]&#39;, &#39;List of modules to include (underscore,backbone,...)&#39;, splitAndTrim, [])
.option(&#39;--only-html&#39;, &#39;Only output html (default: false)&#39;, false)
.option(&#39;--only-css&#39;, &#39;Only output css (default: false)&#39;, false)
.option(&#39;--only-modules&#39;, &#39;Only output js from included modules (default: false)&#39;, false)
.option(&#39;--only-pages&#39;, &#39;Only output html/css/js for page, omit included module js&#39;, false)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    .parse(process.argv)</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>  No arguments shows usage</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">if</span> <span class="keyword">not</span> _.isArray(commander.args) <span class="keyword">or</span> commander.args.length == <span class="number">0</span>
    usage()

  options = _.pick commander, <span class="string">'args'</span>, <span class="string">'minify'</span>, <span class="string">'output'</span>, <span class="string">'recurse'</span>, <span class="string">'modules'</span>, <span class="string">'verbose'</span>, <span class="string">'watch'</span>, <span class="string">'exclude'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>  Execute command through oj module api</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  oj.command options
  <span class="keyword">return</span></pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>  Helper method to show usage</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="function"><span class="title">usage</span></span> = (code = <span class="number">0</span>) -&gt;
  commander.help()
  process.exit code</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>  Helper method to split lists on comma</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="function"><span class="title">splitAndTrim</span></span> = (str) -&gt;
  out = str.split(<span class="string">','</span>)
  <span class="keyword">for</span> o <span class="keyword">in</span> out
    o.trim()</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
